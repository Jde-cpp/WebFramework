<ng-container *ngIf="viewPromise | async">
	<div>
		<mat-form-field *ngFor="let field of fields; let tab = index" style="width: 100%;" appearance="fill">
			<mat-label>{{field.displayName}}</mat-label>
			<input matInput *ngIf="field.type==InputTypes.None" [value]="clone.get(field.name)" [tabIndex]="tab+1" (focusout)="clone.set( field.name, $event.target['value'] )" >
			<textarea matInput *ngIf="field.type==InputTypes.Text" [value]="clone.get(field.name)" [tabIndex]="tab+1" (focusout)="clone.set( field.name, $event.target['value'])"></textarea>
			<mat-select *ngIf="field.type==InputTypes.Select" [tabIndex]="tab+1" (selectionChange)="clone.set( field.name, $event.value )" [value]="clone.get(field.name)">
				<mat-option *ngFor="let option of field.options" [value]="option.id">{{option.name}}</mat-option>
			</mat-select>
		</mat-form-field>
	</div>
	<div>
		<span *ngIf="clone.size" style="margin-left: auto;" >
			<button tabindex="100" mat-icon-button (click)="saving=true;onSubmitClick()" [disabled]="!enableSubmit"><mat-icon>done</mat-icon>Save</button>
			<button tabindex="101" mat-icon-button (click)="onCancelClick()" style="margin-left:50px;margin-right:20px"><mat-icon>cancel</mat-icon>Cancel</button>
		</span>
	</div>
</ng-container>